<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Social Network for Music</title>
    <link rel="icon" href="./img/headphones-solid.svg" type="image/x-icon" />
    <!-- Font -->
    <!-- <link rel="preconnect" href="https://rsms.me/" />
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css" /> -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@100;300;400;700;900&display=swap"
      rel="stylesheet"
    />
    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <!-- Icone -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css"
      integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- Style.css -->
    <link rel="stylesheet" href="./style/style-home.css" />
  </head>
  <body>
    <!-- ======= Header ======= -->
    <header
      id="header"
      class="header fixed-top d-flex align-items-center justify-content-between"
    >
      <div class="d-flex align-items-center justify-content-between w-50">
        <i class="bi bi-list toggle-sidebar-btn"></i>
        <a href="home.html" class="logo d-flex align-items-center">
          <i class="fa-solid fa-headphones fa-2xl me-3"></i>
          <span class="d-none d-lg-block">SNM</span>
        </a>
      </div>
      <div class="nav-item dropdown pe-3">
        <a
          class="nav-link nav-profile d-flex align-items-center pe-0"
          href="#"
          data-bs-toggle="dropdown"
        >
          <img
            src="./img/profile.png"
            alt="profile"
            style="width: 25px; height: 25px; border-radius: 50%"
          />
          <span
            class="d-none d-md-block dropdown-toggle ps-2"
            id="usernameHeader"
            >Username</span
          >
        </a>

        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
          <li class="dropdown-header" id="nominativoHeader">
            <h6>Nome Cognome</h6>
          </li>
          <li>
            <hr class="dropdown-divider" />
          </li>

          <li>
            <a class="dropdown-item d-flex align-items-center" href="/profile">
              <i class="bi bi-person"></i>
              <span>Il mio profilo</span>
            </a>
          </li>
          <li>
            <hr class="dropdown-divider" />
          </li>
          <li>
            <a class="dropdown-item d-flex align-items-center" href="/logout">
              <i class="bi bi-box-arrow-right"></i>
              <span>Logout</span>
            </a>
          </li>
        </ul>
      </div>
    </header>
    <!-- ======= Sidebar ======= -->
    <aside id="sidebar" class="sidebar">
      <ul class="sidebar-nav" id="sidebar-nav">
        <li class="nav-item">
          <a class="nav-link collapsed" href="/home">
            <i class="bi bi-grid"></i>
            <span>Homepage</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link collapsed" href="/profile">
            <i class="bi bi-person"></i>
            <span>Profilo</span>
          </a>
        </li>
        <li class="nav-heading">Scopri</li>
        <li class="nav-item">
          <a class="nav-link collapsed" href="/tracks">
            <i class="bi bi-music-note"></i>
            <span>Brani</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/publicPlaylist">
            <i class="bi bi-music-note-list"></i>
            <span>Playlists</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link collapsed" href="/myPlaylist">
            <i class="bi bi-file-music"></i>
            <span>Le mie playlist</span>
          </a>
        </li>
      </ul>
    </aside>
    <!-- ======= Main ======= -->
    <div class="main" id="main">
      <!-- ======= Tracks offcanvas ======= -->
      <div
        class="offcanvas offcanvas-end"
        tabindex="-1"
        id="offcanvasRight"
        aria-labelledby="offcanvasRightLabel"
      >
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasRightLabel"></h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="offcanvas"
            aria-label="Close"
          ></button>
        </div>
        <div class="offcanvas-body">...</div>
      </div>
      <!-- ======= Main serach-bar ======= -->
      <div class="search-playlist">
        <div class="row">
          <div class="col-12">
            <h1 class="text-center mt-4">
              Cerca una playlist e aggiungila alle tue playlist!
            </h1>
            <h2 class="text-center text-secondary mb-3">
              Per cercare una playlist, inserisci il nome della playlist nella
              barra di ricerca
            </h2>
            <form
              class="search-form d-flex align-items-center w-100"
              method="GET"
              action=""
              id="search-form-playlist"
            >
              <input
                type="text"
                name="query"
                placeholder="Inserisci il nome di una playlist"
                style="border-radius: 50px; height: 48px"
              />
              <button type="submit" title="Search">
                <i class="bi bi-search"></i>
              </button>
            </form>
            <!-- ======= Filter ======= -->
            <div
              class="filtri mt-3 d-flex flex-column flex-md-row align-items-center align-items-md-start"
            >
              <button class="btn btn-link" onclick="toggleFilter()">
                Filtri avanzati
              </button>
              <div
                class="search-filter d-flex w-75 d-none flex-column flex-md-row"
              >
                <form
                  class="search-form d-flex align-items-center mx-md-3 mb-3 mb-md-0 w-75 mx-auto"
                  method="GET"
                  action=""
                  id="search-tag-playlist"
                >
                  <!-- ======= Tag filter ======= -->
                  <input
                    type="text"
                    name="query"
                    placeholder="Inserisci il tag di una playlist"
                    style="border-radius: 50px; height: 48px"
                  />
                  <button type="submit" title="Search">
                    <i class="bi bi-search"></i>
                  </button>
                </form>
                <!-- ======= Track (in playlist) filter ======= -->
                <form
                  class="search-form d-flex align-items-center w-75 mx-auto mx-md-0"
                  method="GET"
                  action=""
                  id="search-track-playlist"
                >
                  <input
                    type="text"
                    name="query"
                    placeholder="Inserisci un brano di una playlist"
                    style="border-radius: 50px; height: 48px"
                  />
                  <button type="submit" title="Search">
                    <i class="bi bi-search"></i>
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- ======= Tracks ======= -->
      <div class="playlists-card mt-5">
        <div
          class="row row-cols-2 row-cols-sm-3 row-cols-lg-5 row-cols-xxl-6 row-cols-md-4"
        ></div>
      </div>
    </div>
    <script src="./main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
    <script>
      const playlistContainer = document.querySelector('.playlists-card .row');
      (async () => {
        try {
          const response = await fetch('/get-playlists-public');
          const data = await response.json();
          const playlists = data.data;
          if (playlists.length === 0 || data.status != 'ok') {
            playlistContainer.innerHTML =
              '<h3 class="text-center">Nessuna playlist trovata</h3>';
            return;
          }
          playlistContainer.innerHTML = '';
          console.log(playlists);
          playlists.forEach((playlist) => {
            const col = document.createElement('div');
            const playlistCard = document.createElement('a');
            col.classList.add('col');
            playlistCard.classList.add('card', 'mb-5', 'border-0');
            playlistCard.style.width = '150px';
            playlistCard.href = '/playlist/' + playlist._id;

            const img = document.createElement('div');
            img.style.position = 'relative';
            img.style.height = '150px';
            img.style.width = '150px';
            img.classList.add('card-img-top', 'rounded');
            if (playlist.tracce.length === 0) {
              const picture1 = document.createElement('img');
              picture1.classList.add('img-fluid', 'rounded');
              picture1.src = './img/playlist-default.png';
              img.appendChild(picture1);
            } else if (playlist.tracce.length === 1) {
              const picture1 = document.createElement('img');
              picture1.classList.add('img-fluid', 'rounded');
              picture1.src = playlist.tracce[0].immagine;
              img.appendChild(picture1);
            } else if (playlist.tracce.length <= 3) {
              img.classList.add('d-flex', 'justify-content-center');
              const picture1 = document.createElement('img');
              picture1.classList.add('img-fluid', 'rounded-start');
              picture1.style.objectFit = 'cover';
              picture1.style.maxWidth = '50%';
              picture1.src = playlist.tracce[0].immagine;
              img.appendChild(picture1);
              const picture2 = document.createElement('img');
              picture2.classList.add('img-fluid', 'rounded-end');
              picture2.style.objectFit = 'cover';
              picture2.style.maxWidth = '50%';
              picture2.src = playlist.tracce[1].immagine;
              img.appendChild(picture2);
            } else {
              img.classList.add('d-flex', 'justify-content-center');
              const picture1 = document.createElement('img');
              picture1.style.position = 'absolute';
              picture1.style.top = '0';
              picture1.style.left = '0';
              picture1.classList.add('img-fluid', 'w-50', 'rounded-top-left');
              picture1.src = playlist.tracce[0].immagine;
              img.appendChild(picture1);
              const picture2 = document.createElement('img');
              picture2.style.position = 'absolute';
              picture2.style.top = '0';
              picture2.style.right = '0';
              picture2.classList.add('img-fluid', 'w-50', 'rounded-top-right');
              picture2.src = playlist.tracce[1].immagine;
              img.appendChild(picture2);
              const picture3 = document.createElement('img');
              picture3.style.position = 'absolute';
              picture3.style.bottom = '0';
              picture3.style.left = '0';
              picture3.classList.add(
                'img-fluid',
                'w-50',
                'rounded-bottom-left'
              );
              picture3.src = playlist.tracce[2].immagine;
              img.appendChild(picture3);
              const picture4 = document.createElement('img');
              picture4.style.position = 'absolute';
              picture4.style.bottom = '0';
              picture4.style.right = '0';
              picture4.classList.add(
                'img-fluid',
                'w-50',
                'rounded-bottom-right'
              );
              picture4.src = playlist.tracce[3].immagine;
              img.appendChild(picture4);
            }
            playlistCard.appendChild(img);

            const cardBody = document.createElement('div');
            const title = document.createElement('h4');
            title.classList.add('card-title', 'text-truncate', 'm-0', 'p-1');
            title.textContent = playlist.titolo;
            const owner = document.createElement('h5');
            owner.classList.add(
              'card-text',
              'px-1',
              'text-secondary',
              'text-truncate',
              'mb-2'
            );
            owner.textContent = 'Di ' + playlist.creatore;
            const numeroTracce = document.createElement('p');
            numeroTracce.classList.add('card-text', 'text-secondary', 'mb-0');
            numeroTracce.textContent = playlist.tracce.length + ' brani';

            playlistCard.appendChild(cardBody);
            //cardBody.appendChild(numeroTracce);
            cardBody.appendChild(title);
            cardBody.appendChild(owner);
            col.appendChild(playlistCard);
            playlistContainer.appendChild(col);
          });
        } catch (err) {
          console.log(err);
        }
      })();

      function toggleFilter() {
        const filter = document.querySelector('.search-filter');
        filter.classList.toggle('d-none');
      }

      const form1 = document.getElementById('search-form-playlist');
      form1.addEventListener('submit', (e) => {
        e.preventDefault();
      });

      const form2 = document.getElementById('search-tag-playlist');
      form2.addEventListener('submit', (e) => {
        e.preventDefault();
      });

      const form3 = document.getElementById('search-track-playlist');
      form3.addEventListener('submit', (e) => {
        e.preventDefault();
      });

      const searchForm = document.querySelector('#search-form-playlist');
      searchForm
        .querySelector('input[name="query"]')
        .addEventListener('input', async (e) => {
          const query = e.target.value;
          const response = await fetch('/get-playlists-public');
          const data = await response.json();
          const playlists = data.data;
          const filteredPlaylists = playlists.filter((playlist) =>
            playlist.titolo.toLowerCase().includes(query.toLowerCase())
          );

          playlistContainer.innerHTML = '';
          if (filteredPlaylists.length === 0) {
            playlistContainer.innerHTML =
              '<h3 class="text-center">Nessuna playlist trovata</h3>';
            return;
          }
          filteredPlaylists.forEach((playlist) => {
            const col = document.createElement('div');
            const playlistCard = document.createElement('a');
            col.classList.add('col');
            playlistCard.classList.add('card', 'mb-5', 'border-0');
            playlistCard.style.width = '150px';
            playlistCard.href = '/playlist/' + playlist._id;

            const img = document.createElement('div');
            img.style.position = 'relative';
            img.style.height = '150px';
            img.style.width = '150px';
            img.classList.add('card-img-top');
            if (playlist.tracce.length === 0) {
              const picture1 = document.createElement('img');
              picture1.classList.add('img-fluid', 'rounded');
              picture1.src = './img/playlist-default.png';
              img.appendChild(picture1);
            } else if (playlist.tracce.length === 1) {
              const picture1 = document.createElement('img');
              picture1.classList.add('img-fluid', 'rounded');
              picture1.src = playlist.tracce[0].immagine;
              img.appendChild(picture1);
            } else if (playlist.tracce.length <= 3) {
              img.classList.add('d-flex', 'justify-content-center');
              const picture1 = document.createElement('img');
              picture1.classList.add('img-fluid', 'rounded-start');
              picture1.style.objectFit = 'cover';
              picture1.style.maxWidth = '50%';
              picture1.src = playlist.tracce[0].immagine;
              img.appendChild(picture1);
              const picture2 = document.createElement('img');
              picture2.classList.add('img-fluid', 'rounded-end');
              picture2.style.objectFit = 'cover';
              picture2.style.maxWidth = '50%';
              picture2.src = playlist.tracce[1].immagine;
              img.appendChild(picture2);
            } else {
              img.classList.add('d-flex', 'justify-content-center');
              const picture1 = document.createElement('img');
              picture1.style.position = 'absolute';
              picture1.style.top = '0';
              picture1.style.left = '0';
              picture1.classList.add('img-fluid', 'w-50', 'rounded-top-left');
              picture1.src = playlist.tracce[0].immagine;
              img.appendChild(picture1);
              const picture2 = document.createElement('img');
              picture2.style.position = 'absolute';
              picture2.style.top = '0';
              picture2.style.right = '0';
              picture2.classList.add('img-fluid', 'w-50', 'rounded-top-right');
              picture2.src = playlist.tracce[1].immagine;
              img.appendChild(picture2);
              const picture3 = document.createElement('img');
              picture3.style.position = 'absolute';
              picture3.style.bottom = '0';
              picture3.style.left = '0';
              picture3.classList.add(
                'img-fluid',
                'w-50',
                'rounded-bottom-left'
              );
              picture3.src = playlist.tracce[2].immagine;
              img.appendChild(picture3);
              const picture4 = document.createElement('img');
              picture4.style.position = 'absolute';
              picture4.style.bottom = '0';
              picture4.style.right = '0';
              picture4.classList.add(
                'img-fluid',
                'w-50',
                'rounded-bottom-right'
              );
              picture4.src = playlist.tracce[3].immagine;
              img.appendChild(picture4);
            }
            playlistCard.appendChild(img);

            const cardBody = document.createElement('div');
            const title = document.createElement('h4');
            title.classList.add('card-title', 'text-truncate', 'm-0', 'p-1');
            title.textContent = playlist.titolo;
            const owner = document.createElement('h5');
            owner.classList.add(
              'card-text',
              'px-1',
              'text-secondary',
              'text-truncate',
              'mb-2'
            );
            owner.textContent = 'Di ' + playlist.creatore;
            const numeroTracce = document.createElement('p');
            numeroTracce.classList.add('card-text', 'text-secondary', 'mb-0');
            numeroTracce.textContent = playlist.tracce.length + ' brani';

            playlistCard.appendChild(cardBody);
            //cardBody.appendChild(numeroTracce);
            cardBody.appendChild(title);
            cardBody.appendChild(owner);
            col.appendChild(playlistCard);
            playlistContainer.appendChild(col);
          });
        });

      const searchTag = document.getElementById('search-tag-playlist');
      searchTag
        .querySelector('input[name="query"]')
        .addEventListener('input', async (e) => {
          const query = e.target.value;
          const response = await fetch('/get-playlists-public');
          const data = await response.json();
          const playlists = data.data;
          console.log(query);
          const filteredPlaylists = playlists.filter((playlist) =>
            playlist.tags.some((tag) =>
              tag.toLowerCase().includes(query.toLowerCase())
            )
          );
          playlistContainer.innerHTML = '';
          if (filteredPlaylists.length === 0) {
            playlistContainer.innerHTML =
              '<h3 class="text-center">Nessuna playlist trovata</h3>';
            return;
          }
          filteredPlaylists.forEach((playlist) => {
            const col = document.createElement('div');
            const playlistCard = document.createElement('a');
            col.classList.add('col');
            playlistCard.classList.add('card', 'mb-5', 'border-0');
            playlistCard.style.width = '150px';
            playlistCard.href = '/playlist/' + playlist._id;

            const img = document.createElement('div');
            img.style.position = 'relative';
            img.style.height = '150px';
            img.style.width = '150px';
            img.classList.add('card-img-top');
            if (playlist.tracce.length === 0) {
              const picture1 = document.createElement('img');
              picture1.classList.add('img-fluid', 'rounded');
              picture1.src = './img/playlist-default.png';
              img.appendChild(picture1);
            } else if (playlist.tracce.length === 1) {
              const picture1 = document.createElement('img');
              picture1.classList.add('img-fluid', 'rounded');
              picture1.src = playlist.tracce[0].immagine;
              img.appendChild(picture1);
            } else if (playlist.tracce.length <= 3) {
              img.classList.add('d-flex', 'justify-content-center');
              const picture1 = document.createElement('img');
              picture1.classList.add('img-fluid', 'rounded-start');
              picture1.style.objectFit = 'cover';
              picture1.style.maxWidth = '50%';
              picture1.src = playlist.tracce[0].immagine;
              img.appendChild(picture1);
              const picture2 = document.createElement('img');
              picture2.classList.add('img-fluid', 'rounded-end');
              picture2.style.objectFit = 'cover';
              picture2.style.maxWidth = '50%';
              picture2.src = playlist.tracce[1].immagine;
              img.appendChild(picture2);
            } else {
              img.classList.add('d-flex', 'justify-content-center');
              const picture1 = document.createElement('img');
              picture1.style.position = 'absolute';
              picture1.style.top = '0';
              picture1.style.left = '0';
              picture1.classList.add('img-fluid', 'w-50', 'rounded-top-left');
              picture1.src = playlist.tracce[0].immagine;
              img.appendChild(picture1);
              const picture2 = document.createElement('img');
              picture2.style.position = 'absolute';
              picture2.style.top = '0';
              picture2.style.right = '0';
              picture2.classList.add('img-fluid', 'w-50', 'rounded-top-right');
              picture2.src = playlist.tracce[1].immagine;
              img.appendChild(picture2);
              const picture3 = document.createElement('img');
              picture3.style.position = 'absolute';
              picture3.style.bottom = '0';
              picture3.style.left = '0';
              picture3.classList.add(
                'img-fluid',
                'w-50',
                'rounded-bottom-left'
              );
              picture3.src = playlist.tracce[2].immagine;
              img.appendChild(picture3);
              const picture4 = document.createElement('img');
              picture4.style.position = 'absolute';
              picture4.style.bottom = '0';
              picture4.style.right = '0';
              picture4.classList.add(
                'img-fluid',
                'w-50',
                'rounded-bottom-right'
              );
              picture4.src = playlist.tracce[3].immagine;
              img.appendChild(picture4);
            }
            playlistCard.appendChild(img);

            const cardBody = document.createElement('div');
            const title = document.createElement('h4');
            title.classList.add('card-title', 'text-truncate', 'm-0', 'p-1');
            title.textContent = playlist.titolo;
            const owner = document.createElement('h5');
            owner.classList.add(
              'card-text',
              'px-1',
              'text-secondary',
              'text-truncate',
              'mb-2'
            );
            owner.textContent = 'Di ' + playlist.creatore;
            const numeroTracce = document.createElement('p');
            numeroTracce.classList.add('card-text', 'text-secondary', 'mb-0');
            numeroTracce.textContent = playlist.tracce.length + ' brani';

            playlistCard.appendChild(cardBody);
            //cardBody.appendChild(numeroTracce);
            cardBody.appendChild(title);
            cardBody.appendChild(owner);
            col.appendChild(playlistCard);
            playlistContainer.appendChild(col);
          });
        });

      const searchTrack = document.getElementById('search-track-playlist');
      searchTrack
        .querySelector('input[name="query"]')
        .addEventListener('input', async (e) => {
          const query = e.target.value;
          const response = await fetch('/get-playlists-public');
          const data = await response.json();
          const playlists = data.data;
          console.log(query);
          const filteredPlaylists = playlists.filter((playlist) =>
            playlist.tracce.some((track) =>
              track.titolo.toLowerCase().includes(query.toLowerCase())
            )
          );
          playlistContainer.innerHTML = '';
          if (filteredPlaylists.length === 0) {
            playlistContainer.innerHTML =
              '<h3 class="text-center">Nessuna playlist trovata</h3>';
            return;
          }
          filteredPlaylists.forEach((playlist) => {
            const col = document.createElement('div');
            const playlistCard = document.createElement('a');
            col.classList.add('col');
            playlistCard.classList.add('card', 'mb-5', 'border-0');
            playlistCard.style.width = '150px';
            playlistCard.href = '/playlist/' + playlist._id;

            const img = document.createElement('div');
            img.style.position = 'relative';
            img.style.height = '150px';
            img.style.width = '150px';
            img.classList.add('card-img-top');
            if (playlist.tracce.length === 0) {
              const picture1 = document.createElement('img');
              picture1.classList.add('img-fluid', 'rounded');
              picture1.src = './img/playlist-default.png';
              img.appendChild(picture1);
            } else if (playlist.tracce.length === 1) {
              const picture1 = document.createElement('img');
              picture1.classList.add('img-fluid', 'rounded');
              picture1.src = playlist.tracce[0].immagine;
              img.appendChild(picture1);
            } else if (playlist.tracce.length <= 3) {
              img.classList.add('d-flex', 'justify-content-center');
              const picture1 = document.createElement('img');
              picture1.classList.add('img-fluid', 'rounded-start');
              picture1.style.objectFit = 'cover';
              picture1.style.maxWidth = '50%';
              picture1.src = playlist.tracce[0].immagine;
              img.appendChild(picture1);
              const picture2 = document.createElement('img');
              picture2.classList.add('img-fluid', 'rounded-end');
              picture2.style.objectFit = 'cover';
              picture2.style.maxWidth = '50%';
              picture2.src = playlist.tracce[1].immagine;
              img.appendChild(picture2);
            } else {
              img.classList.add('d-flex', 'justify-content-center');
              const picture1 = document.createElement('img');
              picture1.style.position = 'absolute';
              picture1.style.top = '0';
              picture1.style.left = '0';
              picture1.classList.add('img-fluid', 'w-50', 'rounded-top-left');
              picture1.src = playlist.tracce[0].immagine;
              img.appendChild(picture1);
              const picture2 = document.createElement('img');
              picture2.style.position = 'absolute';
              picture2.style.top = '0';
              picture2.style.right = '0';
              picture2.classList.add('img-fluid', 'w-50', 'rounded-top-right');
              picture2.src = playlist.tracce[1].immagine;
              img.appendChild(picture2);
              const picture3 = document.createElement('img');
              picture3.style.position = 'absolute';
              picture3.style.bottom = '0';
              picture3.style.left = '0';
              picture3.classList.add(
                'img-fluid',
                'w-50',
                'rounded-bottom-left'
              );
              picture3.src = playlist.tracce[2].immagine;
              img.appendChild(picture3);
              const picture4 = document.createElement('img');
              picture4.style.position = 'absolute';
              picture4.style.bottom = '0';
              picture4.style.right = '0';
              picture4.classList.add(
                'img-fluid',
                'w-50',
                'rounded-bottom-right'
              );
              picture4.src = playlist.tracce[3].immagine;
              img.appendChild(picture4);
            }
            playlistCard.appendChild(img);

            const cardBody = document.createElement('div');
            const title = document.createElement('h4');
            title.classList.add('card-title', 'text-truncate', 'm-0', 'p-1');
            title.textContent = playlist.titolo;
            const owner = document.createElement('h5');
            owner.classList.add(
              'card-text',
              'px-1',
              'text-secondary',
              'text-truncate',
              'mb-2'
            );
            owner.textContent = 'Di ' + playlist.creatore;
            const numeroTracce = document.createElement('p');
            numeroTracce.classList.add('card-text', 'text-secondary', 'mb-0');
            numeroTracce.textContent = playlist.tracce.length + ' brani';

            playlistCard.appendChild(cardBody);
            //cardBody.appendChild(numeroTracce);
            cardBody.appendChild(title);
            cardBody.appendChild(owner);
            col.appendChild(playlistCard);
            playlistContainer.appendChild(col);
          });
        });
    </script>
  </body>
</html>
